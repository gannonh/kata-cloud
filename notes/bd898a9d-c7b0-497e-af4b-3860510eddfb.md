---
id: bd898a9d-c7b0-497e-af4b-3860510eddfb
title: Fix git compile blocker in space git service
parent: spec
created: "2026-02-16T15:34:02.468Z"
task:
  status: complete
  peerOrder: 100
  startedAt: "2026-02-16T15:58:47.198Z"
  assignedAgentIds: [agent-44b70315-73a4-4994-9da7-758327c5b984]
  completedAt: "2026-02-16T16:08:07.722Z"
---

# Fix git compile blocker in space git service

Resolve the TypeScript compile error that prevents app startup.

## Scope
In scope: `src/git/space-git-service.ts` and any directly related git type usage needed to remove duplicate object property assignment.
Out of scope: unrelated feature changes.

## Inputs
[Spec](intent://local/note/spec)
Task note: [Re-run Wave 1 gate verification in network-enabled environment](intent://local/task/5c1f7d87-7581-42ed-bcce-83373e83f406)

## Definition of Done
- `pnpm run dev` reaches app startup without TypeScript compile errors.
- No new TypeScript errors introduced in git service path.

## Verification
- `pnpm run dev`
- `pnpm run test -- git`

## Summary (Turn 1)
Applied a minimal git-service-only fix for the `TS2783` duplicate `spaceId` property compile blocker in `listStatuses()`. Verification confirms `tsc -p tsconfig.main.json` now succeeds during `pnpm run dev` and no TypeScript error is emitted from `src/git/space-git-service.ts`.

## Acceptance Criteria
- ✅ Remove duplicate object property assignment causing `TS2783` in git service.
- ✅ Keep change scoped to git service/types directly required for fix.
- ✅ Run required verification commands and record outcomes.

## Subtasks
- None.

## References
- `src/git/space-git-service.ts`

## Learnings
- `SpaceGitLifecycleStatus` already includes `spaceId`; rebuilding status objects via `{ spaceId, ...status }` creates a duplicate-property compile error in strict TS checks.

## Changes
- `src/git/space-git-service.ts`
  - Updated `listStatuses()` to return `Array.from(this.statusBySpace.values())` and changed return type to `SpaceGitLifecycleStatus[]`, removing redundant `spaceId` reconstruction.

## Verification Evidence
- `pnpm run dev` (exit 1)
  - `desktop:build-main` runs `tsc -p tsconfig.main.json` with no TypeScript errors.
  - Previous blocker `TS2783` at `src/git/space-git-service.ts:115` is no longer present.
  - Current failure is unrelated environment/runtime: `Electron failed to install correctly`.
- `pnpm run test -- git` (exit 1)
  - Git TS/unit tests pass (`src/git/types.test.ts`, `src/git/space-git-service.test.ts`, `src/git/space-git-ui-state.test.ts`).
  - Remaining failures are unrelated known empty suites: `src/git/space-git-service.node.test.ts`, `src/git/types.node.test.ts` (`No test suite found`).