{"type":"snapshot","v":1,"date":"2026-02-17T14:21:33.838Z","author":{"id":"user","name":"User","type":"user"},"content":"# Prepare external-outsource handoff package\n\nPrepare explicit instructions for your external outsourcing action, starting with the changes-tab task.\n\n## Scope\nIn scope: handoff packet for `e1ea609a-a0d0-4025-92ea-f20564110a9d` and queued follow-on `10a48d6c-9fd1-452f-aa99-3120bf23641c`.\nOut of scope: performing external delegation ourselves.\n\n## Inputs\n- [Spec](intent://local/note/spec)\n- [Build changes tab with diff inspection and selective staging](intent://local/task/e1ea609a-a0d0-4025-92ea-f20564110a9d)\n- [Add GitHub PR creation workflow in Changes tab](intent://local/task/10a48d6c-9fd1-452f-aa99-3120bf23641c)\n\n## Definition of Done\n- You receive copy/paste instructions for external agent delegation (scope, branch, required tests, evidence format).\n- Handoff sequence (first task, then next task) is explicit.\n\n## Verification\n- Manual review of handoff text for clarity and completeness.\n\n## Summary (Turn 1)\nPrepared a ready-to-send external outsourcing handoff packet in required order: first `e1ea609a-a0d0-4025-92ea-f20564110a9d`, then `10a48d6c-9fd1-452f-aa99-3120bf23641c`. Packet includes scope boundaries, branch instructions from updated `main`, required verification commands, and strict evidence format.\n\n## Acceptance Criteria\n- ✅ Provide copy/paste delegation instructions for `e1ea609a-a0d0-4025-92ea-f20564110a9d`.\n- ✅ Provide copy/paste delegation instructions for `10a48d6c-9fd1-452f-aa99-3120bf23641c`.\n- ✅ Make sequencing explicit: first changes tab, then PR workflow.\n- ✅ Include scope, branch, verification commands, and evidence format for each.\n\n## Subtasks\n- None.\n\n## References\n- [Spec](intent://local/note/spec)\n- [Build changes tab with diff inspection and selective staging](intent://local/task/e1ea609a-a0d0-4025-92ea-f20564110a9d)\n- [Add GitHub PR creation workflow in Changes tab](intent://local/task/10a48d6c-9fd1-452f-aa99-3120bf23641c)\n\n## Learnings\n- Keep external packets constrained to task note DoD/verification lines to prevent scope creep.\n\n## External Outsource Handoff Packet\n\n### Step 1 (send first): Task `e1ea609a-a0d0-4025-92ea-f20564110a9d`\n\n```text\nTask: Build changes tab with diff inspection and selective staging\nTask ID: e1ea609a-a0d0-4025-92ea-f20564110a9d\n\nScope (in):\n- Implement Changes tab UI/logic for file diffs in a space.\n- Add per-file stage/unstage controls.\n- Show accurate staged summary/state in app.\n\nScope (out):\n- No GitHub PR creation flow.\n- No final git merge flow changes.\n- No unrelated refactors.\n\nBranch requirements:\n1) Sync main and branch from updated main only.\n   - git fetch origin\n   - git switch main\n   - git pull --ff-only origin main\n   - git switch -c feature/changes-tab-diff-staging\n2) Keep work isolated to this task and open a PR back to main.\n\nRequired verification commands:\n- pnpm run test -- changes\n- pnpm run desktop:typecheck\n\nRequired manual verification:\n- Modify files in a space, inspect diffs in Changes tab, stage/unstage selected files, confirm status matches CLI git status.\n\nRequired evidence format (post back):\n1) Summary: 3-6 bullets of delivered behavior.\n2) Files changed: exact paths.\n3) Verification:\n   - Command: <command>\n   - Result: PASS/FAIL\n   - Key output: <1-3 lines>\n4) Manual validation notes: steps + observed outcome.\n5) Git evidence:\n   - Branch name\n   - Commit SHA\n   - PR URL\n6) Risks/follow-ups: explicit list or \"None\".\n```\n\n### Step 2 (send only after Step 1 is complete): Task `10a48d6c-9fd1-452f-aa99-3120bf23641c`\n\n```text\nTask: Add GitHub PR creation workflow in Changes tab\nTask ID: 10a48d6c-9fd1-452f-aa99-3120bf23641c\nDependency: Start only after e1ea609a-a0d0-4025-92ea-f20564110a9d is completed and merged/synced.\n\nScope (in):\n- Generate suggested PR title/body from staged diff + spec context.\n- Allow user edits before submit.\n- Submit PR via GitHub API for selected repo/branch.\n- Handle auth/session + permission/repo mismatch failures with actionable messages.\n- Show created PR URL and allow opening it from app.\n\nScope (out):\n- No changes-tab diff/staging redesign beyond what PR workflow needs.\n- No unrelated git plumbing refactors.\n\nBranch requirements:\n1) Start from latest main after Task 1 merge.\n   - git fetch origin\n   - git switch main\n   - git pull --ff-only origin main\n   - git switch -c feature/changes-tab-pr-workflow\n2) Keep commit scope to PR workflow behavior only.\n\nRequired verification commands:\n- pnpm run test -- pr-workflow\n- pnpm run desktop:typecheck\n\nRequired manual verification:\n- Create PR against a test repository.\n- Validate suggested title/body generation from staged diff + spec context.\n- Validate editable draft, submit success path, and error states.\n- Validate shown PR URL opens correctly.\n\nRequired evidence format (post back):\n1) Summary: 3-6 bullets of delivered behavior.\n2) Files changed: exact paths.\n3) Verification:\n   - Command: <command>\n   - Result: PASS/FAIL\n   - Key output: <1-3 lines>\n4) Manual validation notes: test repo used, target branches, success/error scenarios tested.\n5) Git evidence:\n   - Branch name\n   - Commit SHA\n   - PR URL\n6) Risks/follow-ups: explicit list or \"None\".\n```\n\n## Changes\n- Updated task note with final external handoff packet and sequencing.\n\n## Verification Run\n- Command: Manual review of packet against task note DoD and input task scopes\n- Result: PASS\n- Notes: Includes required scope, branch, verification commands, evidence format, and explicit sequencing.","title":"Prepare external-outsource handoff package"}
