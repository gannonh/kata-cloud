---
id: 104a4249-6976-4de2-9708-f5ab4283ef58
title: Add linting baseline and scripts
parent: spec
created: "2026-02-16T18:29:23.738Z"
task:
  status: complete
  peerOrder: 100
  startedAt: "2026-02-16T18:38:35.244Z"
  assignedAgentIds: [agent-69b09d34-f3c8-4b8a-ac4f-18c1e78d7d13]
  completedAt: "2026-02-16T19:41:40.250Z"
---

# Add linting baseline and scripts

Set up a project linting baseline that can run locally and in CI.

## Scope
In scope: lint tooling dependencies, root lint config, and package scripts needed to run lint checks.
Out of scope: broad style-only refactors unrelated to quality-gate setup.

## Inputs
[Spec](intent://local/note/spec)

## Definition of Done
- Lint tooling is configured at repo root for the current TypeScript/React codebase.
- A `pnpm run lint` command exists and exits non-zero on lint errors.
- Any unavoidable temporary lint suppressions are documented in the task note.

## Verification
- `pnpm install`
- `pnpm run lint`

## Summary (Turn 2)
Implemented root ESLint baseline and script wiring in scope. Added lint dev dependencies, created `eslint.config.mjs`, ran `pnpm install`, and validated lint behavior end-to-end.

## Acceptance Criteria
- [x] Root lint config exists and covers TypeScript/React plus repo JS/MJS files.
- [x] `pnpm run lint` script exists in root `package.json`.
- [x] `pnpm run lint` exits non-zero on lint errors.
- [x] Task note records exact files changed and verification command output/evidence.

## Subtasks
- [x] None.

## References
- [Spec](intent://local/note/spec)
- `package.json`
- `eslint.config.mjs`

## Learnings
- Disabled `no-undef` for TS files to avoid false positives on type-only globals (`JSX`, `NodeJS`).
- Added a targeted temporary suppression for `no-control-regex` in `bin/dev-desktop.mjs` because its ANSI escape regex is intentional.

## Changes
- `package.json`: added `lint` script and lint devDependencies.
- `eslint.config.mjs`: added root flat ESLint baseline with targeted overrides.
- `pnpm-lock.yaml`: updated by `pnpm install` with new lint dependency resolution.

```ws-block:cli
{
  "id": "fb521f04-fd6e-4238-90cd-fb37eedcaa3c",
  "version": 1,
  "type": "cli",
  "createdAt": "2026-02-16T18:41:21.510Z",
  "createdBy": "agent",
  "command": "pnpm install",
  "description": "Install dependencies including lint tooling",
  "cwd": "/Users/gannonhall/intent/workspaces/following-build-2/kata-cloud",
  "display": {
    "showCommandPrefix": "$"
  }
}
```

```ws-block:cli
{
  "id": "b663863f-d0e4-48e4-92f1-8e7c2afe0fbf",
  "version": 1,
  "type": "cli",
  "createdAt": "2026-02-16T18:41:21.519Z",
  "createdBy": "agent",
  "command": "pnpm run lint",
  "description": "Run lint baseline",
  "cwd": "/Users/gannonhall/intent/workspaces/following-build-2/kata-cloud",
  "display": {
    "showCommandPrefix": "$"
  }
}
```

## Verification Results (Turn 2)

- `pnpm install` (exit `0`): installed lint toolchain (`eslint`, `@eslint/js`, `@typescript-eslint/*`, `eslint-plugin-react-hooks`, `eslint-plugin-react-refresh`, `globals`) and updated lockfile.
- `pnpm run lint` initial run (exit `1`): confirmed non-zero behavior on lint errors. Reported errors in `bin/dev-desktop.mjs` (`no-control-regex`) and TS type-global false positives (`JSX`, `NodeJS`) from `no-undef`.
- `pnpm run lint` final run (exit `0`): no lint errors; one non-blocking warning remains in `src/main.tsx` from `react-refresh/only-export-components`.