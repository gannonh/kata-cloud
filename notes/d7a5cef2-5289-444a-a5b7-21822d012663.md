---
id: d7a5cef2-5289-444a-a5b7-21822d012663
title: Outsource independent PR work and resume primary feature
parent: spec
created: "2026-02-17T02:57:41.072Z"
task:
  status: in_progress
  peerOrder: 300
  startedAt: "2026-02-17T03:22:29.652Z"
---

# Outsource independent PR work and resume primary feature

Identify separable tasks for independent PRs, create handoff instructions, and start the highest-priority feature task.

## Scope
In scope: shortlist outsourceable tasks, define branch/acceptance/test handoff per PR, begin top-priority feature implementation.
Out of scope: parallelizing tightly-coupled changes that block each other.

## Inputs
- [Spec](intent://local/note/spec)
- Open tasks: run history persistence, changes tab, PR flow, in-app browser, context adapter, provider runtime

## Definition of Done
- 0–N outsourceable PR candidates identified with explicit rationale.
- Each candidate has concrete handoff instructions (scope, files, commands, acceptance).
- Primary feature task is delegated and moved to in-progress.

## Verification
- Manual review: handoff list added to spec
- Delegate selected feature task to implementor
- Verifier run requested for completed wave

## Proposed Outsource Handoffs (2026-02-17)

Candidate A: `22770f24-a79b-4d14-9add-14ffd1447b2f` (in-app browser preview)
Scope: renderer browser panel, navigation controls, layout coexistence.
Suggested branch: `feature/browser-preview-panel`.
Verification: `pnpm test -- browser` and manual localhost navigation checks.

Candidate B: `302fcffa-863d-4d90-b017-08369fad3f73` (context adapter)
Scope: adapter contract and filesystem provider wiring for orchestrator context retrieval.
Suggested branch: `feature/context-adapter-foundation`.
Verification: `pnpm test -- context` and targeted orchestrator retrieval smoke test.

Candidate C: `e1ea609a-a0d0-4025-92ea-f20564110a9d` (changes tab)
Scope: diff inspection and selective stage/unstage controls.
Dependency note: this can run independently of run-history persistence, but PR creation task should remain blocked behind this task.
Suggested branch: `feature/changes-tab-diff-staging`.
Verification: `pnpm test -- changes` and manual selective staging flow.

## Wave 1 Start Condition (2026-02-17)

Wave 1 outsourcing begins only after PR #2 merge.
Planned Wave 1 independent tasks off updated `main`:
- `c5f554ea-2059-40d2-9fb2-bf522a590cae` run-history persistence
- `22770f24-a79b-4d14-9add-14ffd1447b2f` in-app browser preview
- `302fcffa-863d-4d90-b017-08369fad3f73` context adapter foundation

## Wave 1 Dispatch (2026-02-17)

Post-merge Wave 1 implementor scope:
1. `c5f554ea-2059-40d2-9fb2-bf522a590cae` (run-history persistence)
2. `22770f24-a79b-4d14-9add-14ffd1447b2f` (in-app browser preview)
3. `302fcffa-863d-4d90-b017-08369fad3f73` (context adapter foundation)

Execution rule: implement in isolated branches from updated `main`, verify locally, and report with explicit file/command evidence for verifier follow-up.

## Wave 1 Status Update (2026-02-17)

`c5f554ea-2059-40d2-9fb2-bf522a590cae` required re-dispatch due initial agent startup failure; agent has been re-woken and resumed. Other Wave 1 agents remain in progress.

## Parallel Conflict Decision (2026-02-17)

Wave 1 overlap identified on `src/shared/state.ts` and `src/shared/state.test.ts` between browser and context tasks.

Execution decision:
1. Context task owns first-pass shared-state edits.
2. Browser task must not ship mixed-scope combined commit.
3. Browser shared-state wiring resumes after context task completion/rebase to preserve independent PR scope.

## Wave 1 Progress (2026-02-17)

Browser task (`22770f24-a79b-4d14-9add-14ffd1447b2f`) delivered and marked `review_required` with passing automated checks; manual localhost clickthrough remains verifier step.

Wave still open pending completion of:
- `302fcffa-863d-4d90-b017-08369fad3f73` (context adapter) — corrected to isolated branch/worktree execution.
- `c5f554ea-2059-40d2-9fb2-bf522a590cae` (run history) — still in progress.

## Wave 1 Reopen (2026-02-17)

Run-history task (`c5f554ea-2059-40d2-9fb2-bf522a590cae`) was reopened after duplicate idle events with no implementation artifacts recorded. Task was reset to `in_progress` and re-instructed with mandatory evidence requirements before verifier handoff.

## Wave 1 Recovery Action (2026-02-17)

Run-history task was re-delegated to replacement implementor due repeated non-progress responses. Browser task reverted to `waiting` pending clean scope-separation after context task finalization. Context task received strict finalize-or-blocker directive.

## Coordinator Control Update (2026-02-17)

Issued high-priority execution controls:
1. Stale run-history agent instructed to stand down.
2. Replacement run-history agent remains sole owner and must return commit/test artifacts.
3. Context agent instructed to execute-only in isolated branch from `main` with context-only scope.
4. Browser task stays waiting pending upstream completion + verifier handoff.